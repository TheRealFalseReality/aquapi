(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var l=a(5155),s=a(2115);let r=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),o=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),n=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),i=()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,l.jsx)("path",{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"})]}),d=()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.707 4.293a1 1 0 010 1.414L5.414 10l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z",clipRule:"evenodd"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M15.707 4.293a1 1 0 010 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z",clipRule:"evenodd"})]}),c=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),m=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.07.022A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.022-1.07z",clipRule:"evenodd"})}),h=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),u=()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,l.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),x=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),g=()=>(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,l.jsx)("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),(0,l.jsx)("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),b=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),p="https://raw.githubusercontent.com/TheRealFalseReality/aquapi/refs/heads/main/assets/data/fishcompat.json",f=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),w=e=>{let{letters:t,onLetterClick:a,onScrollToTop:s}=e;return(0,l.jsxs)("div",{className:"fixed right-0 top-1/2 transform -translate-y-1/2 z-40 flex flex-col items-center bg-gray-900 bg-opacity-50 p-2 rounded-l-lg backdrop-blur-sm h-auto max-h-[80vh] justify-around",children:[(0,l.jsx)("button",{onClick:s,className:"text-white text-xs font-bold p-1 w-6 h-6 flex items-center justify-center hover:bg-blue-600 rounded-full transition-colors duration-200 mb-1",title:"Scroll to Top",children:(0,l.jsx)(b,{})}),t.map(e=>(0,l.jsx)("button",{onClick:()=>a(e),className:"text-white text-xs font-bold p-1 w-6 h-6 flex items-center justify-center hover:bg-blue-600 rounded-full transition-colors duration-200",children:e},e))]})},v=e=>{let{title:t,message:a,onClose:s,onConfirm:r,showConfirm:o=!1}=e;return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:(0,l.jsxs)("div",{className:"bg-gray-800 text-white rounded-xl shadow-2xl p-6 max-w-sm w-full mx-auto animate-fade-in-down",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4 border-b border-gray-600 pb-2 text-yellow-300",children:t}),(0,l.jsx)("p",{className:"text-gray-300 mb-6",children:a}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition duration-300 ease-in-out transform hover:scale-105 shadow-md",children:"Close"}),o&&(0,l.jsx)("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition duration-300 ease-in-out transform hover:scale-105 shadow-md",children:"Confirm"})]})]})})},j=e=>{let{fish:t,onEdit:a,onDelete:s}=e,r=e=>(0,l.jsx)("ul",{className:"list-disc list-inside text-gray-300 text-sm mt-1 space-y-1",children:e&&e.map((e,t)=>(0,l.jsx)("li",{children:e},t))});return(0,l.jsxs)("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-xl border border-gray-700 flex flex-col transform hover:scale-105 transition-transform duration-300 ease-in-out",children:[t.imageURL&&(0,l.jsx)("img",{src:t.imageURL,alt:t.name,className:"w-full h-48 object-cover rounded-lg mb-4",onError:e=>{let t=e.target;t.onerror=null,t.src="https://placehold.co/600x400/1F2937/7C8A9E?text=Image+Not+Found"}}),(0,l.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-2xl font-bold text-yellow-400 mb-1",children:t.name}),t.latinName&&(0,l.jsx)("p",{className:"text-sm italic text-gray-400 mr-2",children:t.latinName})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>a(t),className:"p-2 rounded-full bg-yellow-600 text-white hover:bg-yellow-700 transition duration-300 ease-in-out transform hover:scale-110 shadow-md",title:"Edit Fish",children:(0,l.jsx)(o,{})}),(0,l.jsx)("button",{onClick:()=>s(t.id,t.name),className:"p-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition duration-300 ease-in-out transform hover:scale-110 shadow-md",title:"Delete",children:(0,l.jsx)(n,{})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-left flex-grow",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-semibold text-green-400 mb-1",children:"Compatible"}),r(t.compatible)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-semibold text-yellow-400 mb-1",children:"With Caution"}),r(t.caution)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-semibold text-red-400 mb-1",children:"Not Compatible"}),r(t.notCompatible)]})]})]})},y=e=>{let{onSave:t,onClose:a,activeTab:r}=e,[o,n]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[u,x]=(0,s.useState)(r);return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4 animate-fade-in",children:(0,l.jsxs)("div",{className:"bg-gray-800 text-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-gray-600 pb-3",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-yellow-300",children:"Add a New Fish"}),(0,l.jsx)("button",{onClick:a,className:"p-2 rounded-full bg-gray-600 text-white hover:bg-gray-700 transition",title:"Close",children:(0,l.jsx)(c,{})})]}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o.trim())return void alert("Please fill out the fish name.");t(o.trim(),i.trim(),m.trim(),u)},className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Water Type"}),(0,l.jsxs)("div",{className:"flex space-x-2 p-1 bg-gray-900 rounded-full shadow-inner w-full",children:[(0,l.jsx)("button",{type:"button",onClick:()=>x("freshwater"),className:"w-1/2 px-5 py-2 rounded-full font-semibold transition-all duration-300 ".concat("freshwater"===u?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"),children:"Freshwater"}),(0,l.jsx)("button",{type:"button",onClick:()=>x("saltwater"),className:"w-1/2 px-5 py-2 rounded-full font-semibold transition-all duration-300 ".concat("saltwater"===u?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"),children:"Saltwater"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"fish-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Fish Name"}),(0,l.jsx)("input",{id:"fish-name",type:"text",value:o,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"e.g., Neon Tetra",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"latin-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Latin Name (Optional)"}),(0,l.jsx)("input",{id:"latin-name",type:"text",value:i,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"e.g., Paracheirodon innesi"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"image-url",className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL (Optional)"}),(0,l.jsx)("input",{id:"image-url",type:"text",value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"https://example.com/image.jpg"})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition transform hover:scale-105 shadow-md",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition transform hover:scale-105 shadow-md",children:"Save and Edit Compatibility"})]})]})]})})},N=e=>{let{fishData:t,freshwaterFish:a,saltwaterFish:r,activeTab:o,onSave:n,onClose:m}=e,h=("freshwater"===o?a:r).map(e=>e.name).filter(e=>e!==t.name),[u,x]=(0,s.useState)((null==t?void 0:t.name)||""),[g,b]=(0,s.useState)((null==t?void 0:t.latinName)||""),[p,f]=(0,s.useState)((null==t?void 0:t.imageURL)||""),[w,j]=(0,s.useState)(()=>{let e=new Set((null==t?void 0:t.compatible)||[]),a=new Set((null==t?void 0:t.caution)||[]),l=new Set((null==t?void 0:t.notCompatible)||[]);return{available:h.filter(t=>!e.has(t)&&!a.has(t)&&!l.has(t)).sort(),compatible:Array.from(e).sort(),caution:Array.from(a).sort(),notCompatible:Array.from(l).sort()}}),[y,N]=(0,s.useState)([]),[C,k]=(0,s.useState)(null),[S,R]=(0,s.useState)({title:"",message:"",show:!1}),L=(e,t)=>{k(t),"available"===t?N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]):N(t=>1===t.length&&t[0]===e?[]:[e])},F=(e,t)=>{if(0===y.length||C!==e)return;let a=w[e].filter(e=>!y.includes(e)),l=[...w[t],...y].sort();j(s=>({...s,[e]:a,[t]:l})),N([]),k(null)},z=e=>{let{title:t,list:a,listName:s,onClick:r,isSelected:o,headerClass:n}=e;return(0,l.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-inner flex flex-col h-full min-h-[300px]",children:[(0,l.jsx)("h4",{className:"text-lg font-bold mb-2 pb-1 border-b ".concat(n),children:t}),(0,l.jsx)("ul",{className:"flex-grow overflow-y-auto space-y-1 pr-2",children:a.map(e=>(0,l.jsx)("li",{onClick:()=>r(e,s),className:"p-2 rounded-lg cursor-pointer transition-colors duration-200 ease-in-out ".concat(o(e)?"bg-blue-600 text-white font-semibold shadow-md":"hover:bg-gray-600"),children:e},e))})]})};return(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4 animate-fade-in",children:[(0,l.jsxs)("div",{className:"bg-gray-800 text-white rounded-2xl shadow-2xl p-8 max-w-7xl w-full mx-auto overflow-y-auto max-h-[90vh]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-gray-600 pb-3",children:[(0,l.jsxs)("h3",{className:"text-3xl font-bold text-yellow-300",children:["Edit Data for ",t.name]}),(0,l.jsx)("button",{onClick:m,className:"p-2 rounded-full bg-gray-600 text-white hover:bg-gray-700 transition",title:"Close",children:(0,l.jsx)(c,{})})]}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!u.trim())return void R({title:"Invalid Name",message:"Fish name cannot be empty.",show:!0});if(w.available.length>0)return void R({title:"Incomplete Assignment",message:"Please assign all available fish to a compatibility category before saving.",show:!0});let a={...t,name:u.trim(),latinName:g.trim(),imageURL:p.trim(),compatible:w.compatible,caution:w.caution,notCompatible:w.notCompatible};n(t,a),m()},className:"space-y-5",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"edit-fish-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Fish Name"}),(0,l.jsx)("input",{id:"edit-fish-name",type:"text",value:u,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"edit-latin-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Latin Name"}),(0,l.jsx)("input",{id:"edit-latin-name",type:"text",value:g,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"Leave blank to remove"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"edit-image-url",className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL"}),(0,l.jsx)("input",{id:"edit-image-url",type:"text",value:p,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition",placeholder:"Leave blank to remove"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsx)(z,{title:"Available Fish",list:w.available,listName:"available",onClick:L,isSelected:e=>"available"===C&&y.includes(e),headerClass:"border-gray-500"})}),(0,l.jsxs)("div",{className:"lg:col-span-1 flex flex-row lg:flex-col items-center justify-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>F(C,"available"),className:"p-3 bg-gray-600 rounded-full text-white hover:bg-gray-700",title:"Move to Available",children:(0,l.jsx)(d,{})}),(0,l.jsx)("button",{type:"button",onClick:()=>F("available","compatible"),className:"p-3 bg-green-600 rounded-full text-white hover:bg-green-700",title:"Move to Compatible",children:(0,l.jsx)(i,{})}),(0,l.jsx)("button",{type:"button",onClick:()=>F("available","caution"),className:"p-3 bg-yellow-600 rounded-full text-white hover:bg-yellow-700",title:"Move to With Caution",children:(0,l.jsx)(i,{})}),(0,l.jsx)("button",{type:"button",onClick:()=>F("available","notCompatible"),className:"p-3 bg-red-600 rounded-full text-white hover:bg-red-700",title:"Move to Not Compatible",children:(0,l.jsx)(i,{})})]}),(0,l.jsxs)("div",{className:"lg:col-span-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,l.jsx)(z,{title:"Compatible",list:w.compatible,listName:"compatible",onClick:L,isSelected:e=>"compatible"===C&&y.includes(e),headerClass:"text-green-400 border-green-800"}),(0,l.jsx)(z,{title:"With Caution",list:w.caution,listName:"caution",onClick:L,isSelected:e=>"caution"===C&&y.includes(e),headerClass:"text-yellow-400 border-yellow-800"}),(0,l.jsx)(z,{title:"Not Compatible",list:w.notCompatible,listName:"notCompatible",onClick:L,isSelected:e=>"notCompatible"===C&&y.includes(e),headerClass:"text-red-400 border-red-800"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,l.jsx)("button",{type:"button",onClick:m,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition transform hover:scale-105 shadow-md",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition transform hover:scale-105 shadow-md",children:"Save Changes"})]})]})]}),S.show&&(0,l.jsx)(v,{title:S.title,message:S.message,onClose:()=>R({...S,show:!1})})]})},C=e=>{let{jsonString:t,onClose:a,onDownload:r}=e,[o,n]=(0,s.useState)("Copy");return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fade-in",children:(0,l.jsxs)("div",{className:"bg-gray-800 text-white rounded-2xl shadow-2xl p-6 max-w-4xl w-full mx-auto flex flex-col max-h-[85vh]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b border-gray-600 pb-3",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-yellow-300",children:"Generated JSON Data"}),(0,l.jsx)("button",{onClick:a,className:"p-2 rounded-full bg-gray-600 text-white hover:bg-gray-700 transition",title:"Close",children:(0,l.jsx)(c,{})})]}),(0,l.jsx)("pre",{className:"flex-grow bg-gray-900 p-4 rounded-lg overflow-auto text-sm",children:(0,l.jsx)("code",{children:t})}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,l.jsx)("button",{onClick:a,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition transform hover:scale-105 shadow-md",children:"Close"}),(0,l.jsxs)("button",{onClick:()=>{let e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),n("Copied!"),setTimeout(()=>n("Copy"),2e3)}catch(e){console.error("Failed to copy text: ",e),n("Failed!"),setTimeout(()=>n("Copy"),2e3)}document.body.removeChild(e)},className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition transform hover:scale-105 shadow-md",children:[(0,l.jsx)(g,{}),(0,l.jsx)("span",{children:o})]}),(0,l.jsxs)("button",{onClick:r,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition transform hover:scale-105 shadow-md",children:[(0,l.jsx)(h,{}),(0,l.jsx)("span",{children:"Download"})]})]})]})})};function k(){let[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)([]),[n,i]=(0,s.useState)("freshwater"),[d,c]=(0,s.useState)(!0),[h,g]=(0,s.useState)(null),[b,k]=(0,s.useState)(!1),[S,R]=(0,s.useState)(!1),[L,F]=(0,s.useState)(!1),[z,M]=(0,s.useState)(!1),[A,U]=(0,s.useState)(""),[T,E]=(0,s.useState)(null),[D,B]=(0,s.useState)(!1),[V,H]=(0,s.useState)(null),[I,O]=(0,s.useState)({title:"",message:"",show:!1}),P=(0,s.useRef)(null),_=(0,s.useRef)({}),W=e=>e.map(e=>({id:f(e.name),name:e.name,latinName:e.latinName,imageURL:e.imageURL,compatible:e.compatible||[],caution:e.withCaution||[],notCompatible:e.notCompatible||[]}));(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch(p);if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let a=await e.json();t(W(a.freshwater||[]).sort((e,t)=>e.name.localeCompare(t.name))),o(W(a.marine||[]).sort((e,t)=>e.name.localeCompare(t.name)))}catch(e){g("Failed to fetch fish data: ".concat(e.message)),console.error("Failed to fetch fish data:",e)}finally{c(!1)}})()},[]);let q=(e,t)=>{H({id:e,name:t}),B(!0)},J=async()=>{c(!0);try{let e=await fetch(p);if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let a=await e.json();t(W(a.freshwater||[]).sort((e,t)=>e.name.localeCompare(t.name))),o(W(a.marine||[]).sort((e,t)=>e.name.localeCompare(t.name))),O({title:"Success",message:"Data refreshed from URL!",show:!0})}catch(e){g("Failed to refresh data: ".concat(e.message)),console.error("Failed to refresh data:",e)}finally{c(!1),F(!1)}},G=(0,s.useMemo)(()=>Array.from(new Set(("freshwater"===n?e:a).map(e=>e.name.charAt(0).toUpperCase()))).sort(),[n,e,a]);return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white font-sans p-6 lg:p-10 pr-12 lg:pr-16",children:[(0,l.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap'); body { font-family: 'Inter', sans-serif; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } .animate-fade-in { animation: fadeIn 0.3s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } } @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }"}),(0,l.jsx)(w,{letters:G,onLetterClick:e=>{var t;null==(t=_.current[e])||t.scrollIntoView({behavior:"smooth",block:"start"})},onScrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}),(0,l.jsxs)("div",{className:"container mx-auto",children:[(0,l.jsxs)("header",{className:"text-center mb-6",children:[(0,l.jsx)("h1",{className:"text-4xl lg:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-400 mb-2",children:"Aquarium Compatibility Guide"}),(0,l.jsx)("p",{className:"text-lg text-gray-400",children:"Manage your fish compatibility data."})]}),(0,l.jsxs)("div",{className:"bg-gray-800 rounded-3xl p-4 lg:p-6 shadow-2xl mb-8 border border-gray-700",children:[(0,l.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex space-x-2 p-1 bg-gray-900 rounded-full shadow-inner",children:[(0,l.jsx)("button",{onClick:()=>i("freshwater"),className:"px-5 py-2 rounded-full font-semibold transition-all duration-300 ".concat("freshwater"===n?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"),children:"Freshwater Fish"}),(0,l.jsx)("button",{onClick:()=>i("saltwater"),className:"px-5 py-2 rounded-full font-semibold transition-all duration-300 ".concat("saltwater"===n?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-400 hover:text-white"),children:"Saltwater Fish"})]}),(0,l.jsxs)("div",{className:"flex items-center flex-wrap gap-2",children:[(0,l.jsx)("input",{type:"file",ref:P,onChange:e=>{var a;let l=null==(a=e.target.files)?void 0:a[0];if(!l)return;let s=new FileReader;s.onload=e=>{try{var a;let l=null==(a=e.target)?void 0:a.result,s=JSON.parse(l);t(W(s.freshwater||[]).sort((e,t)=>e.name.localeCompare(t.name))),o(W(s.marine||[]).sort((e,t)=>e.name.localeCompare(t.name))),O({title:"Success",message:"Data loaded from file!",show:!0})}catch(e){g("Failed to parse file: ".concat(e.message)),console.error("Failed to parse file:",e)}},s.readAsText(l)},accept:".json",className:"hidden"}),(0,l.jsxs)("button",{onClick:()=>{var e;return null==(e=P.current)?void 0:e.click()},className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-700 transition transform hover:scale-105",children:[(0,l.jsx)(x,{}),(0,l.jsx)("span",{children:"Load from File"})]}),(0,l.jsxs)("button",{onClick:()=>{let t=e=>e.map(e=>{let{id:t,caution:a,...l}=e,s={...l,withCaution:a};return s.latinName||delete s.latinName,s.imageURL||delete s.imageURL,s});U(JSON.stringify({freshwater:t(e),marine:t(a)},null,2)),M(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white font-semibold rounded-full shadow-lg hover:bg-teal-700 transition transform hover:scale-105",children:[(0,l.jsx)(u,{}),(0,l.jsx)("span",{children:"View/Export JSON"})]}),(0,l.jsxs)("button",{onClick:()=>F(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white font-semibold rounded-full shadow-lg hover:bg-purple-700 transition transform hover:scale-105",children:[(0,l.jsx)(m,{}),(0,l.jsx)("span",{children:"Refresh from URL"})]}),(0,l.jsxs)("button",{onClick:()=>R(!0),className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white font-semibold rounded-full shadow-lg hover:bg-green-700 transition transform hover:scale-105",children:[(0,l.jsx)(r,{}),(0,l.jsx)("span",{children:"Add New Fish"})]})]})]}),d?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):(e=>{if(h)return(0,l.jsx)("div",{className:"text-center text-red-400 text-lg py-10",children:h});if(0===e.length&&!d)return(0,l.jsx)("div",{className:"text-center text-gray-400 text-lg py-10",children:"No fish data available."});let t="";return(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(e=>{let a=e.name.charAt(0).toUpperCase(),s=a!==t;return s&&(t=a),(0,l.jsx)("div",{ref:s?e=>{_.current[a]=e}:null,children:(0,l.jsx)(j,{fish:e,onEdit:e=>{E(e),k(!0)},onDelete:q})},e.id)})})})("freshwater"===n?e:a)]})]}),(0,l.jsx)("footer",{className:"text-center text-gray-600 text-xs py-4",children:(0,l.jsx)("p",{children:"Version 25.8.1"})}),S&&(0,l.jsx)(y,{onSave:(e,a,l,s)=>{let r={id:f(e),name:e,latinName:a,imageURL:l,compatible:[],caution:[],notCompatible:[]},n=e=>[...e,r].sort((e,t)=>e.name.localeCompare(t.name));"freshwater"===s?t(n):o(n),R(!1),i(s),E(r),k(!0)},onClose:()=>R(!1),activeTab:n}),b&&T&&(0,l.jsx)(N,{fishData:T,onSave:(e,a)=>{let l=e.name,s=a.name,r=t=>{let r=t.filter(t=>t.id!==e.id);return r.push(a),l!==s&&(r=r.map(e=>{let t=e.compatible.map(e=>e===l?s:e).sort(),a=e.caution.map(e=>e===l?s:e).sort(),r=e.notCompatible.map(e=>e===l?s:e).sort();return{...e,compatible:t,caution:a,notCompatible:r}})),r.sort((e,t)=>e.name.localeCompare(t.name))};"freshwater"===n?t(r):o(r),k(!1)},onClose:()=>k(!1),freshwaterFish:e,saltwaterFish:a,activeTab:n}),D&&V&&(0,l.jsx)(v,{title:"Confirm Deletion",message:'Are you sure you want to delete "'.concat(V.name,'"? This action and all its references cannot be undone.'),onClose:()=>B(!1),onConfirm:()=>{if(!V)return;let e=e=>{let t=e.filter(e=>e.id!==V.id);return t.map(e=>({...e,compatible:e.compatible.filter(e=>e!==V.name),caution:e.caution.filter(e=>e!==V.name),notCompatible:e.notCompatible.filter(e=>e!==V.name)}))};"freshwater"===n?t(e):o(e),B(!1),H(null)},showConfirm:!0}),L&&(0,l.jsx)(v,{title:"Confirm Refresh",message:"Are you sure you want to refresh the data from the source URL? This will overwrite all local changes.",onClose:()=>F(!1),onConfirm:J,showConfirm:!0}),I.show&&(0,l.jsx)(v,{title:I.title,message:I.message,onClose:()=>O({...I,show:!1})}),z&&(0,l.jsx)(C,{jsonString:A,onClose:()=>M(!1),onDownload:()=>{let e=new Blob([A],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="fishcompat.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}})]})}},2310:(e,t,a)=>{Promise.resolve().then(a.bind(a,1057))}},e=>{e.O(0,[441,964,358],()=>e(e.s=2310)),_N_E=e.O()}]);